ðŸ”‘ EXTERNAL AI API KEYS GUIDE

=== DO YOU NEED API KEYS? ===

NO - The system works perfectly without any API keys!
- Local AI (genetic algorithm) is already powerful
- Market analysis works without external APIs
- All features are functional

YES - If you want EVEN MORE power:
- Get insights from GPT-4, Claude, Gemini
- Real-time news and sentiment analysis
- Consensus recommendations from multiple AI models
- Enhanced confidence scoring


=== AVAILABLE AI SERVICES ===

1. OpenAI (GPT-4)
   - Best for: General market analysis
   - Cost: $0.01 per 1K tokens (~$0.05 per analysis)
   - Provides: Detailed analysis, recommendations, risk assessment
   - Get key: https://platform.openai.com/api-keys

2. Anthropic (Claude)
   - Best for: Advanced reasoning and pattern recognition
   - Cost: $0.015 per 1K tokens (~$0.08 per analysis)
   - Provides: Deep analysis, confidence scores
   - Get key: https://console.anthropic.com/

3. Google Gemini
   - Best for: Market predictions
   - Cost: Free tier available, then $0.00025 per 1K tokens
   - Provides: Predictions, confidence levels
   - Get key: https://makersuite.google.com/app/apikey

4. Perplexity AI
   - Best for: Real-time news and sentiment
   - Cost: $0.001 per request (~$0.001 per analysis)
   - Provides: Latest news, market sentiment, key events
   - Get key: https://www.perplexity.ai/settings/api


=== HOW TO GET API KEYS ===

OpenAI (GPT-4):
1. Go to https://platform.openai.com/signup
2. Create account
3. Add payment method ($5 minimum)
4. Go to https://platform.openai.com/api-keys
5. Click "Create new secret key"
6. Copy key (starts with sk-...)

Anthropic (Claude):
1. Go to https://console.anthropic.com/
2. Sign up for account
3. Add payment method
4. Go to API Keys section
5. Create new key
6. Copy key (starts with sk-ant-...)

Google Gemini:
1. Go to https://makersuite.google.com/
2. Sign in with Google account
3. Click "Get API Key"
4. Create new key
5. Copy key

Perplexity AI:
1. Go to https://www.perplexity.ai/
2. Sign up for account
3. Go to Settings > API
4. Generate API key
5. Copy key


=== HOW TO USE API KEYS ===

Method 1: Environment Variables (Recommended)
```bash
# Create .env file
cp .env.example .env

# Edit .env file
nano .env

# Add your keys:
OPENAI_API_KEY=sk-...
ENABLE_OPENAI=true

ANTHROPIC_API_KEY=sk-ant-...
ENABLE_ANTHROPIC=true

GEMINI_API_KEY=...
ENABLE_GEMINI=true

PERPLEXITY_API_KEY=...
ENABLE_PERPLEXITY=true

# Restart backend
cd backend && go run .
```

Method 2: Export in Terminal
```bash
export OPENAI_API_KEY="sk-..."
export ENABLE_OPENAI="true"
export ANTHROPIC_API_KEY="sk-ant-..."
export ENABLE_ANTHROPIC="true"
cd backend && go run .
```

Method 3: Docker/Production
```bash
# In docker-compose.yml or production environment
environment:
  - OPENAI_API_KEY=sk-...
  - ENABLE_OPENAI=true
  - ANTHROPIC_API_KEY=sk-ant-...
  - ENABLE_ANTHROPIC=true
```


=== WHAT YOU GET WITH EXTERNAL AI ===

Without API Keys (Local AI Only):
âœ“ Genetic algorithm optimization
âœ“ Market regime detection
âœ“ Trend analysis
âœ“ Support/resistance detection
âœ“ Strategy recommendations
âœ“ All features work

With API Keys (Enhanced):
âœ“ Everything above PLUS:
âœ“ GPT-4 market analysis
âœ“ Claude's advanced reasoning
âœ“ Gemini's predictions
âœ“ Real-time news from Perplexity
âœ“ Consensus recommendations (multiple AI agree)
âœ“ Higher confidence scores
âœ“ More detailed insights


=== COST ESTIMATES ===

Per Analysis (with all 4 APIs):
- OpenAI: ~$0.05
- Anthropic: ~$0.08
- Gemini: ~$0.001
- Perplexity: ~$0.001
Total: ~$0.13 per enhanced analysis

Monthly (100 analyses):
- Total: ~$13/month
- Per day: ~$0.43

Recommendation:
- Start with FREE local AI
- Add Gemini (free tier)
- Add Perplexity ($0.001 per request)
- Add OpenAI if needed ($0.05 per analysis)
- Add Anthropic for best results ($0.08 per analysis)


=== HOW TO USE ENHANCED AI ===

1. Check Configuration:
```bash
curl http://localhost:8080/api/v1/backtest/ai-config
```

2. Run Enhanced Analysis:
```bash
curl "http://localhost:8080/api/v1/backtest/ai-enhanced?symbol=BTCUSDT&interval=15m&days=30"
```

3. Get Consensus Recommendation:
The system will:
- Run local AI analysis
- Call enabled external AI services
- Combine all recommendations
- Provide consensus (e.g., "3/4 AI models recommend BUY")
- Calculate combined confidence score


=== EXAMPLE ENHANCED RESPONSE ===

{
  "localAnalysis": {
    "marketRegime": "trending",
    "trendStrength": 85,
    "bestStrategy": "trend_rider",
    "confidence": 78
  },
  "openAIInsights": {
    "analysis": "Strong uptrend with high volume...",
    "recommendation": "BUY",
    "riskLevel": "medium",
    "keyPoints": [
      "Price above all major EMAs",
      "Volume increasing",
      "RSI in healthy range"
    ]
  },
  "anthropicInsights": {
    "analysis": "Market showing bullish momentum...",
    "recommendation": "BUY",
    "confidence": 82
  },
  "geminiInsights": {
    "analysis": "Predicting continued upward movement...",
    "prediction": "BUY",
    "confidence": 79
  },
  "perplexityInsights": {
    "marketNews": [
      "Bitcoin ETF approval news",
      "Institutional buying increasing"
    ],
    "sentiment": "bullish",
    "keyEvents": ["Fed meeting next week"]
  },
  "combinedRecommendation": "ðŸŸ¢ CONSENSUS: BUY (4/4 AI models agree)",
  "confidenceScore": 81.5
}


=== SECURITY BEST PRACTICES ===

1. Never commit API keys to Git
   - .env is in .gitignore
   - Use .env.example as template

2. Rotate keys regularly
   - Change keys every 3-6 months
   - Revoke old keys

3. Use environment-specific keys
   - Development keys for testing
   - Production keys for live

4. Monitor usage
   - Check API usage dashboards
   - Set spending limits
   - Enable alerts

5. Restrict key permissions
   - Only enable needed features
   - Use read-only when possible


=== TROUBLESHOOTING ===

"API key not working":
- Check key is correct (no extra spaces)
- Verify ENABLE_* is set to "true"
- Check API service status
- Verify payment method is valid

"Rate limit exceeded":
- Reduce number of requests
- Upgrade API plan
- Add delays between requests

"High costs":
- Disable unused AI services
- Use local AI for most analyses
- Only use external AI for important decisions
- Set spending limits in API dashboards


=== RECOMMENDATIONS ===

For Beginners:
1. Start with local AI (free)
2. Learn the system
3. Add Gemini (free tier)
4. Test enhanced analysis

For Serious Traders:
1. Add all 4 AI services
2. Use for important decisions
3. Compare consensus recommendations
4. Monitor performance

For Production:
1. Use all AI services
2. Set spending limits
3. Monitor costs
4. Rotate keys regularly


=== BOTTOM LINE ===

âœ“ System works great WITHOUT any API keys
âœ“ External AI makes it EVEN BETTER
âœ“ Start free, add APIs as needed
âœ“ Costs are reasonable (~$0.13 per analysis)
âœ“ Consensus recommendations increase confidence
âœ“ Real-time news adds valuable context

Your choice:
- FREE: Local AI (already powerful)
- ENHANCED: Add external AI (even more powerful)

Both options are excellent! ðŸš€
